(this["webpackJsonpkinopub.webos"]=this["webpackJsonpkinopub.webos"]||[]).push([[14],{1115:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var c=n(11),a=n(58),l=n(32),i=n(893),r=n(253),o=n(980),u=n(927),s=n(919),b=n(953),d=n(3),j={23:"\u041c\u0443\u043b\u044c\u0442\u0444\u0438\u043b\u044c\u043c\u044b",25:"\u0410\u043d\u0438\u043c\u0435"},f=function(){var e=Object(l.j)().genreType,t=Object(l.i)().state||{},n=t.params,f=t.title,v=void 0===f?function(e){return(e?j[e]:e)||""}(e):f,O="genre-".concat(e),m=Object(b.a)("".concat(O,":filter:params"),null),h=Object(a.a)(m,2),x=h[0],p=h[1],g=Object(s.a)("items",[Object(c.a)(Object(c.a)(Object(c.a)({},n),x),{},{genre:e})]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.a,{title:v}),Object(d.jsx)(u.a,{title:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(r.a,{children:v}),Object(d.jsx)(o.a,{type:"movie",storageKey:O,defaultGenre:e,onFilter:p})]}),queryResult:g})]})}},892:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var c=n(11),a=n(59),l=n(2),i=n(54),r=n.n(i),o=n(58),u=n(108),s=function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disconnectOnLeave:!1},a=t.onEnterViewport,i=t.onLeaveViewport,r=Object(l.useState)(),s=Object(o.a)(r,2),b=s[1],d=Object(l.useRef)(null),j=Object(l.useRef)(!1),f=Object(l.useRef)(!1),v=Object(l.useRef)(0),O=Object(l.useRef)(0),m=Object(l.useCallback)((function(){if(e.current&&d.current){var t=Object(u.findDOMNode)(e.current);t&&d.current.observe(t)}}),[e,d]),h=Object(l.useCallback)((function(){if(e.current&&d.current){var t=Object(u.findDOMNode)(e.current);t&&(d.current.unobserve(t),d.current.disconnect(),d.current=null)}}),[e,d]),x=Object(l.useCallback)((function(e){var t=e[0]||{},n=t.isIntersecting,l=t.intersectionRatio,r="undefined"!==typeof n?n:l>0;if(!f.current&&r)return f.current=!0,null===a||void 0===a||a(),v.current+=1,j.current=r,void b(r);f.current&&!r&&(f.current=!1,null===i||void 0===i||i(),c.disconnectOnLeave&&d.current&&d.current.disconnect(),O.current+=1,j.current=r,b(r))}),[d,c.disconnectOnLeave,a,i]),p=Object(l.useCallback)((function(){d.current||(d.current=new IntersectionObserver(x,n))}),[d,n,x]);return Object(l.useEffect)((function(){return p(),m(),function(){h()}}),[p,m,h]),{inViewport:j.current,enterCount:v.current,leaveCount:O.current}},b=n(1101);var d=function(e){var t=Object(b.a)();return Object(l.useMemo)((function(){return"".concat(e,"-").concat(t)}),[e,t])},j=n(3),f=["children","className","onScrollToEnd"],v=Object(l.createContext)({}),O=function(e){var t=e.children,n=e.className,i=e.onScrollToEnd,o=Object(a.a)(e,f),u=Object(l.useRef)(null),b=d("scrollable"),O=Object(l.useMemo)((function(){return{id:b}}),[b]);return s(u,{onEnterViewport:i}),Object(j.jsxs)("div",Object(c.a)(Object(c.a)({className:r()("overflow-y-auto h-full",n)},o),{},{id:b,children:[Object(j.jsx)(v.Provider,{value:O,children:t}),i&&Object(j.jsx)("div",{className:"h-40",ref:u})]}))}},893:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(11),a=n(897),l=n(3),i=function(e){return Object(l.jsx)(a.a,Object(c.a)({defaultTitle:"Unknown",titleTemplate:"%s | Kinopub WebOS"},e))}},894:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(11),a=n(59),l=n(54),i=n.n(l),r=n(253),o=n(3),u=["children","className"],s=function(e){var t=e.children,n=e.className,l=Object(a.a)(e,u);return t?Object(o.jsx)(r.a,Object(c.a)(Object(c.a)({},l),{},{className:i()("flex justify-between items-center m-1 mb-3 min-h-9",n),as:"div",children:t})):null}},895:function(e,t,n){"use strict";var c=n(107),a=n(2),l=n(926),i=n(255);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=Object(a.useMemo)((function(){return new i.c}),[]),o=Object(l.a)([e].concat(Object(c.a)(t)),(function(){return r[e].apply(r,Object(c.a)(t))}),n);return o}},896:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var c=n(11),a=n(59),l=n(54),i=n.n(l),r=n(2),o=n(917),u=n.n(o),s=n(892),b=n(3),d=function(e){var t=Object(r.useContext)(s.a).id;return Object(b.jsx)(u.a,Object(c.a)(Object(c.a)({once:!0,offset:100,scrollContainer:t&&"#".concat(t)},e),{},{placeholder:Object(b.jsx)("div",{className:"w-full h-full"})}))};var j=d,f=n(254),v=["className","wrapperClassName","source","caption","children"],O=function(e){var t=e.className,n=e.wrapperClassName,l=e.source,r=e.caption,o=e.children,u=Object(a.a)(e,v);return Object(b.jsxs)(f.a,Object(c.a)(Object(c.a)({},u),{},{className:i()("rounded-xl w-1/5 cursor-pointer",n),children:[Object(b.jsxs)(j,{className:i()("h-40 m-1 flex flex-col relative",t),children:[Object(b.jsx)("img",{loading:"lazy",className:"w-full h-full object-cover rounded-xl border-2 border-gray-300 bg-gray-300",src:l,alt:r}),o]}),r&&Object(b.jsx)("div",{className:"px-2",children:Object(b.jsx)("p",{className:"text-gray-200 text-sm text-center overflow-hidden overflow-ellipsis whitespace-nowrap",children:r})})]}))}},898:function(e,t,n){"use strict";var c=n(58),a=n(2);t.a=function(e){var t=Object(a.useState)(e),n=Object(c.a)(t,2),l=n[0],i=n[1];return Object(a.useEffect)((function(){i(e)}),[e]),[l,i]}},899:function(e,t,n){"use strict";function c(e,t,n){var c=(null===e||void 0===e?void 0:e.title)||"";return n?"".concat(c," (s").concat(n.number,"e").concat((null===t||void 0===t?void 0:t.number)||1,")"):c}function a(e,t,n){var c=(null===t||void 0===t?void 0:t.title)||"",a="s".concat((null===n||void 0===n?void 0:n.number)||1,"e").concat((null===t||void 0===t?void 0:t.number)||1);return n?c?"".concat(c," (").concat(a,")"):a:c}function l(e){return(null===e||void 0===e?void 0:e.quality)?2160===e.quality?"4k":1080===e.quality||720===e.quality?"hd":"sd":null}n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}))},900:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c=n(11),a=n(59),l=n(2),i=n(54),r=n.n(i),o=n(256),u=n(254),s=n(3),b=["children","icon","iconOnly","autoFocus","className"],d=function(e){var t=e.children,n=e.icon,i=e.iconOnly,d=void 0===i?!t:i,j=e.autoFocus,f=e.className,v=Object(a.a)(e,b),O=Object(l.useRef)(null);return Object(l.useEffect)((function(){var e;return j&&(e=requestAnimationFrame((function(){var e,t;null===(e=O.current)||void 0===e||null===(t=e.node)||void 0===t||t.focus()}))),function(){e&&cancelAnimationFrame(e)}}),[O,j]),Object(s.jsx)(u.a,Object(c.a)(Object(c.a)({},v),{},{ref:O,className:r()("text-gray-200 whitespace-nowrap cursor-pointer rounded px-2 py-1",f),role:"button",children:Object(s.jsxs)("div",{className:"flex items-center",children:[n&&Object(s.jsx)(o.a,{className:r()({"mr-2":!d}),name:n}),!d&&t]})}))}},901:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(906),a=n.n(c);function l(e){return a()(e)}},903:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var c,a,l=n(2),i=n(32),r=n(54),o=n.n(r),u=n(255),s=n(256),b=n(896),d=n(6),j=["title","titleId"];function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},l=Object.keys(e);for(c=0;c<l.length;c++)n=l[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(c=0;c<l.length;c++)n=l[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O(e,t){var n=e.title,i=e.titleId,r=v(e,j);return l.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:t,"aria-labelledby":i},r),n?l.createElement("title",{id:i},n):null,c||(c=l.createElement("path",{d:"M436.714 26.001H75.287c-27.21 0-49.285 22.075-49.285 49.286v361.427c0 27.211 22.075 49.285 49.285 49.285h361.427c27.211 0 49.284-22.074 49.284-49.285V75.287c0-27.211-22.073-49.286-49.284-49.286z",fill:"#fbbf14"})),a||(a=l.createElement("path",{fill:"#273238",d:"M91.716 190.287h33.883v131.222H91.716zM241.831 321.509h-29.469v-88.714l-11.912 88.714H179.3l-12.528-86.763v86.763h-29.776V190.287h43.947c3.39 20.329 6.16 40.968 8.934 61.504l7.803-61.504h44.152v131.222zM330.544 236.8c0-8.317.31-17.25-1.438-25.055-4.414-23.102-32.24-21.458-50.311-21.458h-25.261v131.222c88.408.103 77.01 6.16 77.01-84.709zm-43.022 61.913v-85.94c12.219 0 10.576 6.47 10.576 16.428v50.622c.001 9.958 1.951 19.199-10.576 18.89zM395.949 223.656c-9.137 0-15.298 2.773-21.457 9.447v-42.816h-32.55v131.222h30.597l1.953-8.317c5.852 6.982 12.218 10.063 21.457 10.063 20.331 0 22.795-15.607 22.795-31.729v-36.963c0-17.763-.821-30.907-22.795-30.907zm-16.427 80.706c-1.642 0-3.081-.823-3.902-2.465-2.26-5.237-1.128-45.281-1.128-45.897 0-3.901-1.132-13.04 5.03-13.04 7.496 0 6.364 7.496 6.364 13.04v33.574c.001 5.546 1.644 14.788-6.364 14.788z"})))}var m,h=l.forwardRef(O),x=(n.p,["title","titleId"]);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},l=Object.keys(e);for(c=0;c<l.length;c++)n=l[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(c=0;c<l.length;c++)n=l[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y(e,t){var n=e.title,c=e.titleId,a=g(e,x);return l.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"#ff6600",ref:t,"aria-labelledby":c},a),n?l.createElement("title",{id:c},n):null,m||(m=l.createElement("path",{d:"M15.518 10.736A8 8 0 11.482 5.264a8 8 0 0115.036 5.472zM8.94 8.342a1 1 0 10-1.88-.684 1 1 0 001.88.684zm-2.906 2.135A2 2 0 102.275 9.11a2 2 0 003.76 1.368zM8.086 4.84A2 2 0 104.328 3.47a2 2 0 003.758 1.368zm5.639 2.052a2 2 0 10-3.76-1.368 2 2 0 003.76 1.368zm-2.053 5.638a2 2 0 10-3.758-1.368 2 2 0 003.758 1.368z"})))}var N=l.forwardRef(y),w=(n.p,n(899)),k=n(901),C=n(3),M=function(e){var t=e.item,n=e.className,c=e.wrapperClassName,a=e.showViews,r=e.noCaption,j=e.disableNavigation,f=Object(i.h)(),v=Object(l.useMemo)((function(){var e;return null===t||void 0===t||null===(e=t.title)||void 0===e?void 0:e.split("/")[0]}),[null===t||void 0===t?void 0:t.title]),O=Object(l.useMemo)((function(){return a&&(null===t||void 0===t?void 0:t.views)&&Object(k.a)(null===t||void 0===t?void 0:t.views)||""}),[a,null===t||void 0===t?void 0:t.views]),m=Object(l.useCallback)((function(){(null===t||void 0===t?void 0:t.id)&&!j&&f.push(Object(d.b)(d.a.Item,{itemId:t.id}))}),[null===t||void 0===t?void 0:t.id,j,f]),x=Object(w.b)(t);return Object(C.jsxs)(b.a,{onClick:m,source:null===t||void 0===t?void 0:t.posters.medium,caption:r?"":v,className:o()("h-72",n),wrapperClassName:c,children:[(null===t||void 0===t?void 0:t.new)&&Object(C.jsx)("div",{className:"absolute bg-red-600 border-gray-300 border-t-2 border-r-2 text-gray-200 px-2 py-1 rounded-bl rounded-tr-xl top-0 right-0",children:null===t||void 0===t?void 0:t.new}),O&&Object(C.jsxs)("div",{className:"absolute top-2 right-2 h-6 pr-2 text-xs text-gray-200 bg-black bg-opacity-50 rounded flex items-center",children:[Object(C.jsx)(s.a,{name:"visibility"}),O]}),(x||(null===t||void 0===t?void 0:t.ac3)||(null===t||void 0===t?void 0:t.advert))&&Object(C.jsxs)("div",{className:"absolute top-2 left-2 h-6 bg-black bg-opacity-50 rounded flex items-center",children:[x&&Object(C.jsx)(s.a,{name:x}),(null===t||void 0===t?void 0:t.ac3)===u.a.True&&Object(C.jsx)(s.a,{name:"graphic_eq"}),(null===t||void 0===t?void 0:t.advert)&&Object(C.jsx)(s.a,{name:"report"})]}),((null===t||void 0===t?void 0:t.rating)>0||(null===t||void 0===t?void 0:t.imdb_rating)>0||(null===t||void 0===t?void 0:t.kinopoisk_rating)>0)&&Object(C.jsxs)("div",{className:"absolute bottom-2 left-2 right-2 h-6 px-2 text-xs text-gray-200 bg-black bg-opacity-50 rounded flex justify-between items-center",children:[Object(C.jsxs)("div",{className:"flex items-center justify-start w-1/3",children:[Object(C.jsx)(h,{className:"h-3 w-3 mr-1"}),Object(C.jsx)("span",{children:((null===t||void 0===t?void 0:t.imdb_rating)||0).toFixed(1)})]}),Object(C.jsxs)("div",{className:"flex items-center justify-center w-1/3",children:[Object(C.jsx)(N,{className:"h-3 w-3 mr-1"}),Object(C.jsx)("span",{children:((null===t||void 0===t?void 0:t.kinopoisk_rating)||0).toFixed(1)})]}),Object(C.jsxs)("div",{className:"flex items-center justify-end w-1/3",children:[Object(C.jsx)(s.a,{name:"thumb_up"}),Object(C.jsxs)("span",{children:[(null===t||void 0===t?void 0:t.rating_percentage)||0,"%"]})]})]})]})}},904:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c=n(107),a=(n(2),n(54)),l=n.n(a),i=n(197),r=n.n(i),o=n(892),u=n(894),s=n(903),b=n(3),d=function(e){var t=e.title,n=e.items,a=e.loading,i=e.onScrollToEnd,d=e.scrollable,j=void 0===d||d,f=e.className,v=e.titleClassName,O=Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{className:v,children:t}),Object(b.jsxs)("div",{className:l()("flex flex-wrap",f),children:[r()(n,(function(e){return Object(b.jsx)(s.a,{item:e},e.id)})),a&&r()(Object(c.a)(new Array(15)),(function(e,t){return Object(b.jsx)(s.a,{},t)}))]})]});return j?Object(b.jsx)(o.b,{onScrollToEnd:i,children:O}):O}},905:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var c=n(11),a=n(59),l=n(2),i=n(54),r=n.n(i),o=n(254),u=n(260),s=n(3),b=["defaultChecked","checked","onChange","className","children","disabled"],d=function(e){var t=e.defaultChecked,n=e.checked,i=e.onChange,d=e.className,j=e.children,f=e.disabled,v=Object(a.a)(e,b),O=Object(l.useRef)(null),m=Object(l.useCallback)((function(e){null===i||void 0===i||i(e.target.checked,e)}),[i]),h=Object(l.useCallback)((function(e){var t;Object(u.a)(e,"Enter")&&(null===(t=O.current)||void 0===t||t.click())}),[]);return Object(s.jsx)(o.a,{component:"label",className:r()("text-gray-200 p-2",d),onKeyPress:h,role:"button",disabled:f,children:Object(s.jsxs)("div",{className:"inline-flex items-center cursor-pointer",children:[Object(s.jsx)("input",Object(c.a)(Object(c.a)({type:"checkbox"},v),{},{ref:O,className:"inline-block w-4 h-4",defaultChecked:t,checked:n,onChange:m,disabled:f})),Object(s.jsx)("span",{className:"inline-block ml-2 whitespace-nowrap",children:j})]})})}},908:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(11),a=n(928),l=n.n(a),i=n(3),r=l()({enterTo:"default-element",defaultElement:".spottable",selector:".spottable",overflow:!0,preserveId:!0},(function(e){return Object(i.jsx)("div",Object(c.a)({},e))}))},915:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var c=n(58),a=n(2),l=n(54),i=n.n(l),r=n(256),o=n(254),u=n(253),s=n(898),b=n(1102);var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0;return Object(b.a)(e,t,n)},j=n(3),f=function(e){var t=e.open,n=e.onToggle,l=e.title,b=e.subtitle,f=e.className,v=e.children,O=e.disabled,m=Object(s.a)(t),h=Object(c.a)(m,2),x=h[0],p=h[1],g=Object(a.useCallback)((function(){if(!O){var e=!x;null===n||void 0===n||n(e),p(e)}}),[O,x,p,n]),y=d(g);return Object(j.jsxs)("div",{className:"flex flex-col w-full",children:[Object(j.jsx)(o.a,{onClick:y,className:i()("p-1 cursor-pointer",f),disabled:O,children:Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)(u.a,{children:l}),!O&&Object(j.jsx)(r.a,{name:x?"expand_less":"expand_more"})]}),!x&&b&&Object(j.jsx)(u.a,{className:"mt-2",children:b})]})}),x&&v]})}},918:function(e,t,n){"use strict";var c=n(58),a=n(2),l=n(907),i=n.n(l),r=n(925),o=n.n(r),u=n(916),s=n.n(u);t.a=function(e,t){var n=e.data,l=e.isLoading,r=e.isFetchingNextPage,u=e.fetchNextPage,b=Object(a.useState)(!1),d=Object(c.a)(b,2),j=d[0],f=d[1],v=Object(a.useMemo)((function(){return s()(i()(o()(null===n||void 0===n?void 0:n.pages,(function(e){return e.items}))),"id")}),[null===n||void 0===n?void 0:n.pages]),O=Object(a.useMemo)((function(){return t?t(v):v}),[v,t]),m=Object(a.useCallback)((function(){j&&(u(),f(!1))}),[j,u]);return Object(a.useEffect)((function(){f(!0)}),[v.length]),[O,l||r,m]}},919:function(e,t,n){"use strict";var c=n(11),a=n(107),l=n(2),i=n(979),r=n(255);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=Object(l.useMemo)((function(){return new r.c}),[]),u=Object(i.a)([e].concat(Object(a.a)(t)),(function(n){var c=n.pageParam;return o[e].apply(o,Object(a.a)(t).concat([c]))}),Object(c.a)({getNextPageParam:function(e){var t;return(null===e||void 0===e||null===(t=e.pagination)||void 0===t?void 0:t.current)+1||1}},n));return u}},920:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c=n(58),a=n(2),l=n(197),i=n.n(l),r=n(915),o=n(11),u=n(905),s=n(3),b=function(e){return Object(s.jsx)(u.a,Object(o.a)(Object(o.a)({},e),{},{type:"radio"}))},d=n(898),j=function(e){var t=e.label,n=e.options,l=e.defaultValue,o=e.value,u=e.onChange,j=e.closeOnChange,f=void 0===j||j,v=e.className,O=e.splitIn,m=e.disabled,h=Object(a.useState)(!1),x=Object(c.a)(h,2),p=x[0],g=x[1],y=Object(d.a)(o||l),N=Object(c.a)(y,2),w=N[0],k=N[1],C=Object(a.useMemo)((function(){return Array.isArray(n)?n.map((function(e,t){return"object"===typeof e?e:{title:e,value:t}})):[]}),[n]),M=Object(a.useMemo)((function(){return C.find((function(e){return e.value===w}))}),[C,w]),I=Object(a.useCallback)((function(e){k(e),null===u||void 0===u||u(e),f&&g(!1)}),[k,u,f]),E=Object(a.useCallback)((function(e){return function(t){t&&I(e.value)}}),[I]);return Object(s.jsx)(r.a,{open:p,onToggle:g,title:t,subtitle:null===M||void 0===M?void 0:M.title,className:v,disabled:m,children:Object(s.jsx)("div",{className:"flex flex-wrap",children:i()(C,(function(e){return Object(s.jsx)(b,{className:O?"w-1/".concat(O):"w-full",checked:e.value===w,onChange:E(e),children:e.title},e.value)}))})})}},921:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var c=n(11),a=n(59),l=n(2),i=n(259),r=n.n(i),o=n(54),u=n.n(o),s=n(892),b=n(908),d=n(258),j=n(32);var f=function(e,t,n){var c=Object(j.h)(),a=Object(l.useCallback)((function(){return c.location.hash.includes(e)}),[e,c]),i=Object(l.useCallback)((function(){a()||c.push({hash:e,state:c.location.state,search:c.location.search,pathname:c.location.pathname}),null===n||void 0===n||n()}),[e,a,c,n]),r=Object(l.useCallback)((function(){a()&&c.goBack(),null===t||void 0===t||t()}),[a,c,t]);return Object(l.useEffect)((function(){var e=setTimeout((function(){a()?i():r()}),100);return function(){clearTimeout(e)}}),[a,i,r,c.location.hash]),Object(l.useMemo)((function(){return{open:i,close:r}}),[i,r])},v=n(3),O=["visible","onClose","children","className","closeButton"],m=function(e){var t=e.visible,n=e.onClose,i=e.children,o=e.className,j=e.closeButton,m=void 0===j?"Blue":j,h=Object(a.a)(e,O),x=Object(l.useMemo)((function(){return r.a.add({})}),[]),p=Object(l.useCallback)((function(){n()}),[n]),g=Object(l.useCallback)((function(){if(t)return p(),!1}),[t,p]),y=Object(l.useCallback)((function(){if(!r.a.focus(x)){var e=r.a.getCurrent();e&&e.blur(),r.a.setActiveContainer(x),setTimeout((function(){r.a.setPointerMode(!1),r.a.focus(x)}),500)}}),[x]),N=Object(l.useCallback)((function(){var e=r.a.getCurrent();requestAnimationFrame((function(){null===e||void 0===e||e.scrollIntoViewIfNeeded()}))}),[]);Object(d.a)("Back",g),Object(d.a)("ArrowUp",N),Object(d.a)("ArrowDown",N),Object(d.a)(m,g);var w=f("popup",g);return Object(l.useEffect)((function(){t?(y(),w.open()):w.close()}),[t,y,w]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:u()("fixed z-999 top-0 left-0 right-0 bottom-0 bg-black bg-opacity-50",{hidden:!t}),onClick:p}),Object(v.jsx)(b.a,Object(c.a)(Object(c.a)({},h),{},{spotlightId:x,spotlightRestrict:"self-only",spotlightDisabled:!t,className:u()("fixed z-999 bottom-0 left-0 right-0 p-4 bg-black ring",{hidden:!t},o),children:Object(v.jsx)(s.b,{className:"max-h-screen",children:i})}))]})}},927:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(58),a=n(904),l=n(918),i=n(3),r=function(e){var t=e.title,n=e.showResult,r=void 0===n||n,o=e.queryResult,u=e.processItems,s=Object(l.a)(o,u),b=Object(c.a)(s,3),d=b[0],j=b[1],f=b[2];return Object(i.jsx)(a.a,{title:t,items:d,loading:r&&j,onScrollToEnd:f})}},953:function(e,t,n){"use strict";var c=n(58),a=n(2),l=n(56),i=Object(l.a)();t.a=function(e,t){var n,l=Object(a.useState)(null!==(n=i.getItem(e))&&void 0!==n?n:t),r=Object(c.a)(l,2),o=r[0],u=r[1],s=Object(a.useCallback)((function(t,n){i.setItem(e,t,n)}),[e]);return Object(a.useEffect)((function(){var n=function(){var n;u(null!==(n=i.getItem(e))&&void 0!==n?n:t)},c=i.subscribe(n);return n(),c}),[e,t]),[o,s]}},980:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var c=n(11),a=n(107),l=n(58),i=n(2),r=n(963),o=n.n(r),u=n(982),s=n.n(u),b=n(983),d=n.n(b),j=n(984),f=n.n(j),v=n(900),O=n(905),m=n(921),h=n(920),x=n(895),p=n(258),g=n(953),y=n(3),N={movie:"movie",serial:"movie",concert:"music",documovie:"docu",docuserial:"docu",tvshow:"tvshow"},w={title:"\u2014",value:null},k=f()(1912,(new Date).getFullYear()+1).reverse().map((function(e){return{title:"".concat(e),value:"".concat(e)}})),C=f()(1,10).reverse().map((function(e){return{title:"".concat(e,"+"),value:"".concat(e)}})),M=[{title:"0+",value:"0"},{title:"6+",value:"6"},{title:"12+",value:"12"},{title:"16+",value:"16"},{title:"18+",value:"18"}],I=[{title:"\u0414\u0430\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",value:"updated"},{title:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f",value:"created"},{title:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",value:"year"},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:"title"},{title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u043f\u0430\u0431",value:"rating"},{title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a",value:"kinopoisk_rating"},{title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 IMDb",value:"imdb_rating"},{title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430\u043c",value:"views"}],E=[{title:"\u0412\u0441\u0451 \u0432\u0440\u0435\u043c\u044f",value:null},{title:"\u0421\u0443\u0442\u043a\u0438",value:o()().add(-1,"day").unix()},{title:"\u041d\u0435\u0434\u0435\u043b\u044e",value:o()().add(-1,"week").unix()},{title:"\u041c\u0435\u0441\u044f\u0446",value:o()().add(-1,"month").unix()},{title:"\u041a\u0432\u0430\u0440\u0442\u0430\u043b",value:o()().add(-3,"month").unix()},{title:"\u0413\u043e\u0434",value:o()().add(-1,"year").unix()}],V=function(e){var t=e.type,n=e.defaultGenre,r=e.storageKey,o=e.onFilter,u=Object(i.useState)(!1),b=Object(l.a)(u,2),j=b[0],f=b[1],V=Object(x.a)("genders").data,z=Object(x.a)("countries").data,A=Object(x.a)("subtitles").data,F=Object(g.a)("".concat(r,":filter:genre"),null),R=Object(l.a)(F,2),S=R[0],T=R[1],P=Object(g.a)("".concat(r,":filter:country"),null),_=Object(l.a)(P,2),B=_[0],q=_[1],D=Object(g.a)("".concat(r,":filter:subtitle"),null),K=Object(l.a)(D,2),L=K[0],G=K[1],H=Object(g.a)("".concat(r,":filter:yearFrom"),null),J=Object(l.a)(H,2),U=J[0],W=J[1],Y=Object(g.a)("".concat(r,":filter:yearTo"),null),Q=Object(l.a)(Y,2),X=Q[0],Z=Q[1],$=Object(g.a)("".concat(r,":filter:ratingKinopoisk"),null),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ce=Object(g.a)("".concat(r,":filter:ratingIMDB"),null),ae=Object(l.a)(ce,2),le=ae[0],ie=ae[1],re=Object(g.a)("".concat(r,":filter:age"),null),oe=Object(l.a)(re,2),ue=oe[0],se=oe[1],be=Object(g.a)("".concat(r,":filter:sorting"),I[0].value),de=Object(l.a)(be,2),je=de[0],fe=de[1],ve=Object(g.a)("".concat(r,":filter:period"),E[0].value),Oe=Object(l.a)(ve,2),me=Oe[0],he=Oe[1],xe=Object(g.a)("".concat(r,":filter:sortingAsc"),!1),pe=Object(l.a)(xe,2),ge=pe[0],ye=pe[1],Ne=Object(g.a)("".concat(r,":filter:only4K"),!1),we=Object(l.a)(Ne,2),ke=we[0],Ce=we[1],Me=Object(g.a)("".concat(r,":filter:onlyAC3"),!1),Ie=Object(l.a)(Me,2),Ee=Ie[0],Ve=Ie[1],ze=Object(g.a)("".concat(r,":filter:skipAds"),!1),Ae=Object(l.a)(ze,2),Fe=Ae[0],Re=Ae[1],Se=Object(g.a)("".concat(r,":filter:skipErotic"),!1),Te=Object(l.a)(Se,2),Pe=Te[0],_e=Te[1],Be=Object(i.useMemo)((function(){var e,n;return null===V||void 0===V||null===(e=V.items)||void 0===e||null===(n=e.filter)||void 0===n?void 0:n.call(e,(function(e){return e.type===N[t]}))}),[V,t]),qe=Object(i.useMemo)((function(){var e;return[w].concat(Object(a.a)((null===Be||void 0===Be||null===(e=Be.map)||void 0===e?void 0:e.call(Be,(function(e){return{title:e.title,value:"".concat(e.id)}})))||[]))}),[Be]),De=Object(i.useMemo)((function(){var e,t;return[w].concat(Object(a.a)((null===z||void 0===z||null===(e=z.items)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(e){return{title:e.title,value:"".concat(e.id)}})))||[]))}),[z]),Ke=Object(i.useMemo)((function(){var e,t;return[w].concat(Object(a.a)((null===A||void 0===A||null===(e=A.items)||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(e){return{title:e.title,value:e.id}})))||[]))}),[A]),Le=Object(i.useMemo)((function(){return[w].concat(Object(a.a)(k))}),[]),Ge=Object(i.useMemo)((function(){return[w].concat(Object(a.a)(C))}),[]),He=Object(i.useMemo)((function(){return[w].concat(M)}),[]),Je=Object(i.useCallback)((function(){T(null),q(null),se(null),G(null),W(null),Z(null),ne(null),ie(null),fe(I[0].value),he(E[0].value),ye(!1),Ce(!1),Ve(!1),Re(!1),_e(!1)}),[T,q,se,G,W,Z,ne,ie,fe,he,ye,Ce,Ve,Re,_e]),Ue=Object(i.useCallback)((function(){f(!0)}),[]),We=Object(i.useCallback)((function(){f(!1)}),[]),Ye=Object(i.useCallback)((function(){if(j){var e,t,n=Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({sort:"".concat(ge?"":"-").concat(je)},S?{genre:S}:{}),B?{country:B}:{}),ue?{age:ue}:{}),Ee?{ac3:1}:{}),ke?{quality:["4"]}:{}),U||X?{year:"".concat(U||(null===(e=d()(k))||void 0===e?void 0:e.value),"-").concat(X||(null===(t=s()(k))||void 0===t?void 0:t.value))}:{}),L?{subtitles:L}:{}),Fe||Pe?{force:[Fe&&"advert",Pe&&"erotic"].filter(Boolean)}:{}),me||le||te?{conditions:[me&&"created>=".concat(me),le&&"imdb_rating>=".concat(le),te&&"kinopoisk_rating>=".concat(te)].filter(Boolean)}:{});null===o||void 0===o||o(n),We()}}),[j,S,B,U,X,L,je,ge,Fe,Pe,te,le,ke,ue,Ee,me,We,o]),Qe=Object(i.useCallback)((function(){j&&(Je(),null===o||void 0===o||o(null),We())}),[j,Je,We,o]);return Object(p.a)("Red",Qe),Object(p.a)("Green",Ye),Object(p.a)("Blue",Ue),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(v.a,{icon:"filter_list",className:"text-blue-600",onClick:Ue}),Object(y.jsxs)(m.a,{visible:j,onClose:We,children:[Object(y.jsxs)("div",{className:"flex justify-between",children:[Object(y.jsx)(h.a,{className:"my-1",label:"\u0416\u0430\u043d\u0440",value:n||S,defaultValue:w.value,onChange:T,options:qe,splitIn:2,disabled:!!n}),Object(y.jsx)(h.a,{className:"my-1",label:"\u0421\u0442\u0440\u0430\u043d\u0430",value:B,defaultValue:w.value,onChange:q,options:De,splitIn:2})]}),Object(y.jsxs)("div",{className:"flex justify-between",children:[Object(y.jsx)(h.a,{className:"my-1",label:"\u0421\u0443\u0431\u0442\u0438\u0442\u0440\u044b",value:L,defaultValue:w.value,onChange:G,options:Ke,splitIn:3}),Object(y.jsx)(h.a,{disabled:!0,className:"my-1",label:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",value:ue,defaultValue:w.value,onChange:se,options:He,splitIn:6})]}),Object(y.jsxs)("div",{className:"flex justify-between",children:[Object(y.jsx)(h.a,{className:"my-1",label:"\u0413\u043e\u0434 \u0432\u044b\u0445\u043e\u0434\u0430 \u0441",value:U,defaultValue:w.value,onChange:W,options:Le,splitIn:6}),Object(y.jsx)(h.a,{className:"my-1",label:"\u0413\u043e\u0434 \u0432\u044b\u0445\u043e\u0434\u0430 \u043f\u043e",value:X,defaultValue:w.value,onChange:Z,options:Le,splitIn:6})]}),Object(y.jsxs)("div",{className:"flex justify-between",children:[Object(y.jsx)(h.a,{className:"my-1",label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u041f\u043e\u0438\u0441\u043a",value:te,defaultValue:w.value,onChange:ne,options:Ge,splitIn:5}),Object(y.jsx)(h.a,{className:"my-1",label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 IMDb",value:le,defaultValue:w.value,onChange:ie,options:Ge,splitIn:5})]}),Object(y.jsxs)("div",{className:"flex justify-between",children:[Object(y.jsx)(h.a,{className:"my-1",label:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e",value:je,defaultValue:I[0].value,onChange:fe,options:I,splitIn:2}),Object(y.jsx)(h.a,{className:"my-1",label:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0437\u0430",value:me,defaultValue:E[0].value,onChange:he,options:E,splitIn:3})]}),Object(y.jsxs)("div",{className:"flex justify-between",children:[Object(y.jsxs)("div",{className:"flex flex-col justify-start w-1/2",children:[Object(y.jsx)(O.a,{checked:ge,onChange:function(e){return ye(e)},children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"}),Object(y.jsxs)("div",{className:"flex justify-between",children:[Object(y.jsx)(O.a,{className:"w-1/2",checked:Fe,onChange:function(e){return Re(e)},children:"\u0411\u0435\u0437 \u0440\u0435\u043a\u043b\u0430\u043c\u044b"}),Object(y.jsx)(O.a,{className:"w-1/2",checked:Pe,onChange:function(e){return _e(e)},children:"\u0411\u0435\u0437 \u044d\u0440\u043e\u0442\u0438\u043a\u0438"})]})]}),Object(y.jsxs)("div",{className:"flex flex-col justify-start w-1/2",children:[Object(y.jsx)(O.a,{checked:ke,onChange:function(e){return Ce(e)},children:"\u0422\u043e\u043b\u044c\u043a\u043e 4K"}),Object(y.jsx)(O.a,{checked:Ee,onChange:function(e){return Ve(e)},disabled:!0,children:"\u0422\u043e\u043b\u044c\u043a\u043e AC3"})]})]}),Object(y.jsxs)("div",{className:"flex justify-end",children:[Object(y.jsx)(v.a,{className:"text-red-600",icon:"clear",onClick:Qe,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),Object(y.jsx)(v.a,{className:"text-green-600",icon:"done",onClick:Ye,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})}}}]);
//# sourceMappingURL=14.b6907cb7.chunk.js.map